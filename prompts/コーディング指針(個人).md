# コーディング指針(個人)

- Shellscript 関連
  - 基本的に `set -euxo -pipefail` を指定して、余分なものを外す
  - shebang: `#!/usr/bin/env bash`
- TypeScript・JavaScript
  - var, let は極力使わない
    - 代わりにイミュータブルなアプローチを使う
    - 更新がどうしても必要な場合は Closure で囲う等してスコープを狭める
  - class より Closure を優先的に使う
  - より厳格な型定義を使用する
    - 定数的な宣言は型注釈より `as const satisfies` を使う
    - string より literal を使う
- Node.js 関連
  - 基本 ESModule を使用する。やむを得ない場合のみ CommonJS を使って良い
  - パッケージの追加は package.json 直書きではなく、`${packageManager} add` コマンドによって最新バージョンをインストールする
  - npm scripts は `lint:${linterName}` のような形で並べて `lint` を `pnpm /^lint:.*/` や npm-run-all2 でまとめる。dev, lint, fix, build を打てば必要な処理がまとめて実行される思想
  - パッケージ選定:
    - Node.js で実行するアプリケーション: ts-node ではなく tsx
    - パッケージビルド: tsup
    - 静的解析: eslint, prettier
    - テストツール: vitest
    - バリデーション: valibot がファーストチョイス。FW 等が要求する場合は zod 等他のもの
    - スタイリング: shadcn-ui, tailwind
